import{u as O,c as W,d as R,_ as J,w as K,o as S,f as D,g as l,h as n,q as s,t as m,aA as Q,j as e,x as X,ao as $,m as U,ar as Y,as as Z,V as ee,p as ae,F as te}from"./index-BjaNM_QN.js";import{c as C,a as i,b as L,d as le,u as oe,e as d}from"./index.esm-DLAvid9E.js";import{u as re}from"./areaData-DQWFNIDO.js";import{G as F,z as se}from"./zh-TW-C80-z2u9.js";import{u as ue}from"./group-jxVzwmft.js";import{G as ie}from"./GroupFooter-Cf1GrCHF.js";import{b as I}from"./route-block-B_A1xBdJ.js";import{V as T,a as v}from"./VRow-BMmgCxXg.js";import{V as G}from"./VContainer-HdMFOH4D.js";import{V as ne}from"./VForm-CWv6EzzJ.js";import{V as f}from"./VSelect-BbpavVYO.js";import{V as me}from"./VDivider-BLZho4wF.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./VList-DuPUGNC4.js";import"./VMenu-XRPJoZ2B.js";import"./VChip-CIlqQ4Nu.js";const de={class:"text-center mb-2 mt-2"},pe={class:"text-center mb-15"},ce={class:"d-flex align-center"},ve={class:"mr-12"},ge={class:"d-flex align-center"},fe={class:"mr-12"},he={class:"d-flex align-center"},Ve={class:"mr-12"},ye={class:"ml-5 mr-6"},_e={class:"d-flex align-center"},xe={class:"mr-12"},we={key:0,class:"d-flex align-center"},be={class:"mr-12"},qe={key:1,class:"d-flex align-center"},$e={class:"mr-12"},Me={class:"d-flex align-center"},ke="yyyy'-'MM'-'dd'",Re="HH':'mm'",Se={__name:"step1",setup(De){const{t:a}=O(),u=ue(),{area_data:M}=re(),P=W(),z=Array.from({length:19},(t,o)=>({text:String(o+2),value:o+2})),h=R(()=>[{text:a("group.online"),value:"線上"},{text:a("group.offline"),value:"線下"}]),B=C({name:i().required(a("group.nameRequired")),description:i().required(a("group.descriptionRequired")),type:i().required(a("group.typeRequired")),member_limit:L().required(a("group.memberLimitRequired")),contact_method:i().required().oneOf(["Line","Discord","Facebook"],a("group.contactMethodRequired")),contact_info:i().required(a("group.contactInfoRequired")),city:i().when("type",{is:t=>t===a("group.offline"),then:()=>i().required(a("group.cityRequired")),otherwise:()=>i()}),region:i().when("type",{is:t=>t===a("group.offline"),then:()=>i().required(a("group.regionRequired")),otherwise:()=>i()}),address:i().when("type",{is:t=>t===a("group.offline"),then:()=>i().required(a("group.addressRequired")),otherwise:()=>i()}),date:le().required(a("group.dateRequired")),time:C({hours:L().required(),minutes:L().required()}).required(a("group.timeRequired"))}),{handleSubmit:N,isSubmitting:A}=oe({validationSchema:B,initialValues:{name:"",description:"",type:a("group.online"),member_limit:5,contact_method:"Line",contact_info:"",city:"taipei",region:a("area.taipei_zhongzheng"),address:"台北市中正區",date:new Date,time:{hours:new Date().getHours(),minutes:new Date().getMinutes()}}}),V=d("name"),y=d("description"),c=d("type"),_=d("member_limit"),x=d("contact_method"),w=d("contact_info"),p=d("city"),g=d("region"),b=d("address"),k=d("date"),q=d("time"),H=N(t=>{u.setStep1(t),console.log(t),P.push("/creategroup/step2")});J(()=>{console.log(u.step1),u.hasData.resotre.step1&&(V.value.value=u.step1.name,y.value.value=u.step1.description,c.value.value=u.step1.type,_.value.value=u.step1.member_limit,x.value.value=u.step1.contact_method,w.value.value=u.step1.contact_info,p.value.value=u.step1.city,g.value.value=u.step1.region,b.value.value=u.step1.address,k.value.value=new Date(u.step1.date),q.value.value=u.step1.time)});const j=R(()=>[{text:a("area.taipei"),value:"taipei"},{text:a("area.newTaipei"),value:"newTaipei"},{text:a("area.keeLung"),value:"keeLung"},{text:a("area.taoyuan"),value:"taoyuan"},{text:a("area.hsinchuCounty"),value:"hsinchuCounty"},{text:a("area.hsinchu"),value:"hsinchu"},{text:a("area.miaoli"),value:"miaoli"},{text:a("area.taichung"),value:"taichung"},{text:a("area.nantou"),value:"nantou"},{text:a("area.changhua"),value:"changhua"},{text:a("area.yunlin"),value:"yunlin"},{text:a("area.chiayi"),value:"chiayi"},{text:a("area.chiayiCounty"),value:"chiayiCounty"},{text:a("area.tainan"),value:"tainan"},{text:a("area.kaohsiung"),value:"kaohsiung"},{text:a("area.pingtung"),value:"pingtung"},{text:a("area.yilan"),value:"yilan"},{text:a("area.hualien"),value:"hualien"},{text:a("area.taitung"),value:"taitung"},{text:a("area.penghu"),value:"penghu"},{text:a("area.kinmen"),value:"kinmen"},{text:a("area.lienchiang"),value:"lienchiang"}]);K(()=>p.value.value,t=>{g.value.value=""});const E=R(()=>(console.log(p.value.value),console.log(M.taipei),!p.value.value||!M[p.value.value]?[]:M[p.value.value].map(t=>({text:t,value:t}))));return(t,o)=>(S(),D(te,null,[l(G,{fluid:""},{default:n(()=>[l(T,null,{default:n(()=>[l(v,{cols:"12"},{default:n(()=>[s("h2",de,m(t.$t("group.createStep1")),1),l(Q,{"model-value":"20",height:"10",color:"green-accent-4"})]),_:1})]),_:1})]),_:1}),l(G,{style:{"max-width":"1440px"}},{default:n(()=>[s("h1",pe,m(t.$t("group.step1Title")),1),l(ne,{disabled:e(A),onSubmit:X(e(H),["prevent"])},{default:n(()=>[l(T,null,{default:n(()=>[l(v,{cols:"6",offset:"3"},{default:n(()=>[s("div",ce,[s("span",ve,m(t.$t("group.name")),1),l($,{modelValue:e(V).value.value,"onUpdate:modelValue":o[0]||(o[0]=r=>e(V).value.value=r),placeholder:t.$t("group.namePlaceholder"),"error-messages":e(V).errorMessage.value,minLength:"1",variant:"outlined",class:"creategroup__step1-form"},null,8,["modelValue","placeholder","error-messages"])]),s("div",ge,[s("span",fe,m(t.$t("group.description")),1),l($,{modelValue:e(y).value.value,"onUpdate:modelValue":o[1]||(o[1]=r=>e(y).value.value=r),placeholder:t.$t("group.descriptionPlaceholder"),"error-messages":e(y).errorMessage.value,minLength:"1",variant:"outlined",class:"creategroup__step1-form"},null,8,["modelValue","placeholder","error-messages"])]),s("div",he,[s("span",Ve,m(t.$t("group.createdType")),1),l(f,{modelValue:e(c).value.value,"onUpdate:modelValue":o[2]||(o[2]=r=>e(c).value.value=r),items:h.value,"error-messages":e(c).errorMessage.value,"item-title":"text","item-value":"value",variant:"outlined",class:"creategroup__step1-form",style:{"max-width":"100px"}},null,8,["modelValue","items","error-messages"]),s("span",ye,m(t.$t("group.memberLimit")),1),l(f,{modelValue:e(_).value.value,"onUpdate:modelValue":o[3]||(o[3]=r=>e(_).value.value=r),items:e(z),"error-messages":e(_).errorMessage.value,"item-title":"text","item-value":"value",variant:"outlined",class:"creategroup__step1-form",style:{"max-width":"80px"}},null,8,["modelValue","items","error-messages"])]),s("div",_e,[s("span",xe,m(t.$t("group.contactInfo")),1),l(f,{modelValue:e(x).value.value,"onUpdate:modelValue":o[4]||(o[4]=r=>e(x).value.value=r),items:["Line","Discord","Facebook"],"error-messages":e(x).errorMessage.value,variant:"outlined",class:"creategroup__step1-form",style:{"max-width":"150px"}},null,8,["modelValue","error-messages"]),l($,{modelValue:e(w).value.value,"onUpdate:modelValue":o[5]||(o[5]=r=>e(w).value.value=r),placeholder:t.$t("group.contactInfoPlaceholder"),"error-messages":e(w).errorMessage.value,variant:"outlined",class:"creategroup__step1-form ml-5"},null,8,["modelValue","placeholder","error-messages"])]),e(c).value.value===h.value[1].value?(S(),D("div",we,[s("span",be,m(t.$t("group.createdRegion")),1),l(f,{modelValue:e(p).value.value,"onUpdate:modelValue":o[6]||(o[6]=r=>e(p).value.value=r),"error-messages":e(p).errorMessage.value,items:j.value,"item-title":"text","item-value":"value",class:"creategroup__step1-form mr-4",variant:"outlined",style:{"max-width":"150px"}},null,8,["modelValue","error-messages","items"]),l(f,{modelValue:e(g).value.value,"onUpdate:modelValue":o[7]||(o[7]=r=>e(g).value.value=r),"error-messages":e(g).errorMessage.value,items:E.value,"item-title":"text","item-value":"value",class:"creategroup__step1-form",variant:"outlined",style:{"max-width":"150px"}},null,8,["modelValue","error-messages","items"])])):U("",!0),e(c).value.value===h.value[1].value?(S(),D("div",qe,[s("span",$e,m(t.$t("group.address")),1),Y(l($,{modelValue:e(b).value.value,"onUpdate:modelValue":o[8]||(o[8]=r=>e(b).value.value=r),placeholder:t.$t("group.addressPlaceholder"),"error-messages":e(b).errorMessage.value,class:"creategroup__step1-form",variant:"outlined"},null,8,["modelValue","placeholder","error-messages"]),[[Z,e(c).value.value===h.value[1].value]])])):U("",!0),s("div",Me,[s("span",null,m(t.$t("group.date")),1),l(v,{cols:"4"},{default:n(()=>[l(e(F),{modelValue:e(k).value.value,"onUpdate:modelValue":o[9]||(o[9]=r=>e(k).value.value=r),"auto-apply":"","enable-time-picker":!1,"format-locale":e(se),"hide-input-icon":"",format:ke,"min-date":new Date,class:"ml-9"},null,8,["modelValue","format-locale","min-date"])]),_:1}),l(v,{cols:"2",offset:"1"},{default:n(()=>[s("span",null,m(t.$t("group.time")),1)]),_:1}),l(v,{cols:"3"},{default:n(()=>[l(e(F),{modelValue:e(q).value.value,"onUpdate:modelValue":o[10]||(o[10]=r=>e(q).value.value=r),"time-picker":"","hide-input-icon":"","select-text":t.$t("group.selectSure"),"cancel-text":t.$t("group.selectCancel"),format:Re,"error-messages":e(q).errorMessage.value},null,8,["modelValue","select-text","cancel-text","error-messages"])]),_:1})]),l(me,{class:"border-opacity-100 my-12"}),l(v,{cols:"12",offset:"10",class:"mb-16"},{default:n(()=>[l(ee,{type:"submit",width:"110","append-icon":"mdi-arrow-right"},{default:n(()=>[ae(m(e(a)("group.next")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["disabled","onSubmit"])]),_:1}),l(ie)],64))}};typeof I=="function"&&I(Se);export{Se as default};
