import{u as M,a as R,i as F,b as q,c as E,r as y,d as z,w as G,o as H,e as P,f as m,g as n,h as s,j as e,k as r,l as T,m as i,n as J,F as p,p as a,V as f,q as x,s as A,t as V,v,x as w,y as B}from"./index-24mE6f4M.js";import{V as K,a as U,b as O,c as Q}from"./VNavigationDrawer-DBCbLsjv.js";import{V as N}from"./VContainer-5rXxvu70.js";import{V as h,a as _}from"./VList-CnEGHizC.js";import{V as W}from"./VDivider-C9kIQAa5.js";const X={class:"d-flex mr-6"},Y={class:"d-flex justify-space-between align-center"},ne={__name:"admin",setup(Z){const{t:u}=M(),o=R(),S=F(),{mdAndUp:g}=q(),$=E(),d=y(!1),l=y(!1),L=y(new URL("/game-together/assets/logo-FHMshnbs.png",import.meta.url).href),I=z(()=>[{to:"/group",text:u("nav.groupList"),icon:"mdi-invoice-list-outline",show:o.isLoggedIn||!o.isLoggedIn},{to:"/creategroup/step1",text:u("nav.groupCreate"),icon:"mdi-flag-outline",show:o.isLoggedIn||!o.isLoggedIn},{to:"/member/organizer",text:u("nav.membersSection"),icon:"mdi-account-group",show:o.isLoggedIn},{to:"/admin/groups",text:u("nav.adminSection"),icon:"mdi-cog",show:o.isLoggedIn&&o.isAdmin},{to:"/contact",text:u("nav.contactUs"),icon:"mdi-chat",show:o.isLoggedIn||!o.isLoggedIn},{to:"/login",text:u("nav.login"),icon:"mdi-account-arrow-left",show:!o.isLoggedIn},{to:"/register",text:u("nav.register"),icon:"mdi-account-plus",show:!o.isLoggedIn}]),j=z(()=>[{to:"/admin/groups",text:u("nav.adminGroups")},{to:"/admin/users",text:u("nav.adminUsers")},{to:"/admin/contacts",text:u("nav.adminContacts")}]),b=async()=>{try{await apiAuth.delete("/user/logout")}catch(k){console.log(k)}o.logout(),S({text:u("logout.success"),snackbarProps:{color:"green"}}),d.value=!1,$.push("/")},C=()=>{console.log("mdAndUp:",g.value,"rail:",l.value,"dialog:",d.value),g.value?(d.value&&(d.value=!1),l.value&&(l.value=!1)):l.value||(l.value=!0)};return G(g,C),H(C),(k,c)=>{const D=P("router-view");return a(),m(p,null,[n(K,null,{default:s(()=>[e(g)?(a(),r(N,{key:0,class:"d-flex justify-space-between align-center",fluid:"",style:{"max-width":"1440px"}},{default:s(()=>[n(f,{to:"/",active:!1,class:"ml-2",height:"60",ripple:!1},{default:s(()=>[n(x,{image:e(L),rounded:"0",size:"65"},null,8,["image"])]),_:1}),A("div",X,[(a(!0),m(p,null,V(I.value,t=>(a(),m(p,{key:t.to},[t.show?(a(),r(f,{key:0,to:t.to,"prepend-icon":t.icon},{default:s(()=>[v(w(t.text),1)]),_:2},1032,["to","prepend-icon"])):i("",!0)],64))),128)),e(o).isLoggedIn?(a(),r(f,{key:0,"prepend-icon":"mdi-account-arrow-right",onClick:b},{default:s(()=>[v(w(k.$t("nav.logout")),1)]),_:1})):i("",!0),n(x,{border:"xs",image:e(o).avatar},null,8,["image"])])]),_:1})):i("",!0),e(g)?i("",!0):(a(),r(N,{key:1,class:"d-flex justify-space-between align-center",fluid:""},{default:s(()=>[n(f,{to:"/",active:!1,class:"ml-2",height:"60",ripple:!1},{default:s(()=>[n(x,{image:e(L),rounded:"0",size:"65"},null,8,["image"])]),_:1}),n(Q,{onClick:c[0]||(c[0]=t=>d.value=!e(d))})]),_:1}))]),_:1}),e(g)?i("",!0):(a(),r(U,{key:0,modelValue:e(d),"onUpdate:modelValue":c[2]||(c[2]=t=>T(d)?d.value=t:null),temporary:"",location:"top"},{default:s(()=>[n(_,null,{default:s(()=>[(a(!0),m(p,null,V(I.value,t=>(a(),m(p,null,[t.show?(a(),r(h,{key:0,to:t.to,"prepend-icon":t.icon},{default:s(()=>[v(w(t.text),1)]),_:2},1032,["to","prepend-icon"])):i("",!0)],64))),256)),e(o).isLoggedIn?(a(),r(h,{key:0,"prepend-icon":"mdi-account-arrow-right",onClick:c[1]||(c[1]=()=>{b(),d.value=!1})},{default:s(()=>[v(w(k.$t("nav.logout")),1)]),_:1})):i("",!0)]),_:1})]),_:1},8,["modelValue"])),n(U,{permanent:"",rail:e(l),"rail-width":"70",drawer:"drawer",width:"260",class:J({"border-0":e(l)})},{default:s(()=>[e(l)?(a(),r(_,{key:0},{default:s(()=>[n(h,null,{default:s(()=>[e(l)?i("",!0):(a(),r(x,{key:0,image:e(o).avatar,size:"50"},null,8,["image"])),e(g)?i("",!0):(a(),r(f,{key:1,icon:"mdi-chevron-right",size:"40",variant:"text",onClick:c[3]||(c[3]=B(t=>l.value=!1,["stop"])),class:"border-sm"}))]),_:1})]),_:1})):i("",!0),e(l)?i("",!0):(a(),r(_,{key:1},{default:s(()=>[A("div",Y,[n(h,{"prepend-avatar":e(o).avatar,title:e(o).nickname},null,8,["prepend-avatar","title"]),e(g)?i("",!0):(a(),r(f,{key:0,icon:"mdi-chevron-left",size:"40",variant:"text",onClick:c[4]||(c[4]=B(t=>l.value=!0,["stop"]))}))]),n(W),(a(!0),m(p,null,V(j.value,t=>(a(),r(h,{key:t.to,to:t.to},{default:s(()=>[v(w(t.text),1)]),_:2},1032,["to"]))),128))]),_:1}))]),_:1},8,["rail","class"]),n(O,null,{default:s(()=>[n(D)]),_:1})],64)}}};export{ne as default};
