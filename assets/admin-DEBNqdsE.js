import{u as R,a as $,i as F,b as M,c as q,r as k,d as B,w as E,o as G,e as H,f as m,g as n,h as o,j as e,k as i,l as P,m as u,n as T,F as p,p as s,V as _,q as x,s as z,t as y,v as f,x as v,y as J}from"./index-DwkSfnf8.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as O,a as A,b as Q,c as W}from"./VNavigationDrawer-BDulI1tK.js";import{V as N}from"./VContainer-qPzHuW1w.js";import{V as w,a as V}from"./VList-DdudlTOX.js";import{V as X}from"./VDivider-BGbZjjoE.js";const Y={class:"d-flex mr-6"},Z={class:"d-flex justify-space-between align-center"},ee={__name:"admin",setup(te){const{t:r}=R(),t=$(),U=F(),{mdAndUp:g}=M(),S=q(),d=k(!1),l=k(!1),L=k(new URL("/game-together/assets/logo-FHMshnbs.png",import.meta.url).href),I=B(()=>[{to:"/group",text:r("nav.groupList"),icon:"mdi-invoice-list-outline",show:t.isLoggedIn||!t.isLoggedIn},{to:"/creategroup/step1",text:r("nav.groupCreate"),icon:"mdi-flag-outline",show:t.isLoggedIn||!t.isLoggedIn},{to:"/member/organizer",text:r("nav.membersSection"),icon:"mdi-account-group",show:t.isLoggedIn},{to:"/admin/groups",text:r("nav.adminSection"),icon:"mdi-cog",show:t.isLoggedIn&&t.isAdmin},{to:"/contact",text:r("nav.contactUs"),icon:"mdi-chat",show:t.isLoggedIn||!t.isLoggedIn},{to:"/login",text:r("nav.login"),icon:"mdi-account-arrow-left",show:!t.isLoggedIn},{to:"/register",text:r("nav.register"),icon:"mdi-account-plus",show:!t.isLoggedIn}]),j=B(()=>[{to:"/admin/groups",text:r("nav.adminGroups")},{to:"/admin/users",text:r("nav.adminUsers")},{to:"/admin/contacts",text:r("nav.adminContacts")}]),b=async()=>{try{await apiAuth.delete("/user/logout")}catch(h){console.log(h)}t.logout(),U({text:r("logout.success"),snackbarProps:{color:"green"}}),d.value=!1,S.push("/")},C=()=>{g.value&&(d.value&&(d.value=!1),l.value&&(l.value=!1)),g.value||l.value||(l.value=!0)};return E(g,C),G(C),(h,c)=>{const D=H("router-view");return s(),m(p,null,[n(O,null,{default:o(()=>[e(g)?(s(),i(N,{key:0,class:"d-flex justify-space-between align-center",fluid:"",style:{"max-width":"1440px"}},{default:o(()=>[n(_,{to:"/",active:!1,class:"ml-2",height:"60",ripple:!1},{default:o(()=>[n(x,{image:e(L),rounded:"0",size:"65"},null,8,["image"])]),_:1}),z("div",Y,[(s(!0),m(p,null,y(I.value,a=>(s(),m(p,{key:a.to},[a.show?(s(),i(_,{key:0,to:a.to,"prepend-icon":a.icon},{default:o(()=>[f(v(a.text),1)]),_:2},1032,["to","prepend-icon"])):u("",!0)],64))),128)),e(t).isLoggedIn?(s(),i(_,{key:0,"prepend-icon":"mdi-account-arrow-right",onClick:b},{default:o(()=>[f(v(h.$t("nav.logout")),1)]),_:1})):u("",!0),n(x,{border:"xs",image:e(t).avatar},null,8,["image"])])]),_:1})):u("",!0),e(g)?u("",!0):(s(),i(N,{key:1,class:"d-flex justify-space-between align-center",fluid:""},{default:o(()=>[n(_,{to:"/",active:!1,class:"ml-2",height:"60",ripple:!1},{default:o(()=>[n(x,{image:e(L),rounded:"0",size:"65"},null,8,["image"])]),_:1}),n(W,{onClick:c[0]||(c[0]=a=>d.value=!e(d))})]),_:1}))]),_:1}),e(g)?u("",!0):(s(),i(A,{key:0,modelValue:e(d),"onUpdate:modelValue":c[2]||(c[2]=a=>P(d)?d.value=a:null),temporary:"",location:"top"},{default:o(()=>[n(V,null,{default:o(()=>[(s(!0),m(p,null,y(I.value,a=>(s(),m(p,null,[a.show?(s(),i(w,{key:0,to:a.to,"prepend-icon":a.icon},{default:o(()=>[f(v(a.text),1)]),_:2},1032,["to","prepend-icon"])):u("",!0)],64))),256)),e(t).isLoggedIn?(s(),i(w,{key:0,"prepend-icon":"mdi-account-arrow-right",onClick:c[1]||(c[1]=()=>{b(),d.value=!1})},{default:o(()=>[f(v(h.$t("nav.logout")),1)]),_:1})):u("",!0)]),_:1})]),_:1},8,["modelValue"])),n(A,{permanent:"",rail:e(l),"rail-width":"1",drawer:"drawer",width:"260",class:T([{"cursor-pointer":e(l)},"custom-drawer"])},{default:o(()=>[e(l)?(s(),i(V,{key:0},{default:o(()=>[n(w,null,{default:o(()=>[n(x,{image:e(t).avatar,size:"40"},null,8,["image"])]),_:1})]),_:1})):u("",!0),e(l)?u("",!0):(s(),i(V,{key:1},{default:o(()=>[z("div",Z,[n(w,{"prepend-avatar":e(t).avatar,title:e(t).nickname},null,8,["prepend-avatar","title"])]),n(X),(s(!0),m(p,null,y(j.value,a=>(s(),i(w,{key:a.to,to:a.to},{default:o(()=>[f(v(a.text),1)]),_:2},1032,["to"]))),128))]),_:1})),e(g)?u("",!0):(s(),m("div",{key:2,class:"drawer-toggle",onClick:c[3]||(c[3]=a=>l.value=!e(l))},[n(J,{icon:e(l)?"mdi-chevron-right":"mdi-chevron-left",size:"small"},null,8,["icon"])]))]),_:1},8,["rail","class"]),n(Q,null,{default:o(()=>[n(D)]),_:1})],64)}}},ie=K(ee,[["__scopeId","data-v-0bf6fd9d"]]);export{ie as default};
