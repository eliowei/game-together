import{u as D,a as $,i as F,b as R,c as M,r as _,d as b,w as q,e as E,f as m,g as n,h as o,j as e,k as i,l as G,m as u,n as H,F as p,o as s,V as x,p as k,q as B,s as y,t as v,v as w,x as P}from"./index-BQRAE9B1.js";import{V as T,a as z,b as J,c as K}from"./VNavigationDrawer-DbwUqX1N.js";import{V as A}from"./VContainer-C_GQ6FSN.js";import{V as h,a as V}from"./VList-QIA1_mrl.js";import{V as O}from"./VDivider-C35dnkm6.js";const Q={class:"d-flex mr-6"},W={class:"d-flex justify-space-between align-center"},oe={__name:"admin",setup(X){const{t:r}=D(),t=$(),N=F(),{mdAndUp:f}=R(),U=M(),d=_(!1),l=_(!1),L=_(new URL("/game-together/assets/logo-FHMshnbs.png",import.meta.url).href),I=b(()=>[{to:"/group",text:r("nav.groupList"),icon:"mdi-invoice-list-outline",show:t.isLoggedIn||!t.isLoggedIn},{to:"/creategroup/step1",text:r("nav.groupCreate"),icon:"mdi-flag-outline",show:t.isLoggedIn||!t.isLoggedIn},{to:"/member/organizer",text:r("nav.membersSection"),icon:"mdi-account-group",show:t.isLoggedIn},{to:"/admin/groups",text:r("nav.adminSection"),icon:"mdi-cog",show:t.isLoggedIn&&t.isAdmin},{to:"/contact",text:r("nav.contactUs"),icon:"mdi-chat",show:t.isLoggedIn||!t.isLoggedIn},{to:"/login",text:r("nav.login"),icon:"mdi-account-arrow-left",show:!t.isLoggedIn},{to:"/register",text:r("nav.register"),icon:"mdi-account-plus",show:!t.isLoggedIn}]),S=b(()=>[{to:"/admin/groups",text:r("nav.adminGroups")},{to:"/admin/users",text:r("nav.adminUsers")},{to:"/admin/contacts",text:r("nav.adminContacts")}]),C=async()=>{try{await apiAuth.delete("/user/logout")}catch(c){console.log(c)}t.logout(),N({text:r("logout.success"),snackbarProps:{color:"green"}}),d.value=!1,U.push("/")};return q(f,c=>{console.log(c),c&&(d.value&&(d.value=!1),l.value&&(l.value=!1)),c||l.value||(l.value=!0)}),(c,g)=>{const j=E("router-view");return s(),m(p,null,[n(T,null,{default:o(()=>[e(f)?(s(),i(A,{key:0,class:"d-flex justify-space-between align-center",fluid:"",style:{"max-width":"1440px"}},{default:o(()=>[n(x,{to:"/",active:!1,class:"ml-2",height:"60",ripple:!1},{default:o(()=>[n(k,{image:e(L),rounded:"0",size:"65"},null,8,["image"])]),_:1}),B("div",Q,[(s(!0),m(p,null,y(I.value,a=>(s(),m(p,{key:a.to},[a.show?(s(),i(x,{key:0,to:a.to,"prepend-icon":a.icon},{default:o(()=>[v(w(a.text),1)]),_:2},1032,["to","prepend-icon"])):u("",!0)],64))),128)),e(t).isLoggedIn?(s(),i(x,{key:0,"prepend-icon":"mdi-account-arrow-right",onClick:C},{default:o(()=>[v(w(c.$t("nav.logout")),1)]),_:1})):u("",!0),n(k,{border:"xs",image:e(t).avatar},null,8,["image"])])]),_:1})):u("",!0),e(f)?u("",!0):(s(),i(A,{key:1,class:"d-flex justify-space-between align-center",fluid:""},{default:o(()=>[n(x,{to:"/",active:!1,class:"ml-2",height:"60",ripple:!1},{default:o(()=>[n(k,{image:e(L),rounded:"0",size:"65"},null,8,["image"])]),_:1}),n(K,{onClick:g[0]||(g[0]=a=>d.value=!e(d))})]),_:1}))]),_:1}),e(f)?u("",!0):(s(),i(z,{key:0,modelValue:e(d),"onUpdate:modelValue":g[2]||(g[2]=a=>G(d)?d.value=a:null),temporary:"",location:"top"},{default:o(()=>[n(V,null,{default:o(()=>[(s(!0),m(p,null,y(I.value,a=>(s(),m(p,null,[a.show?(s(),i(h,{key:0,to:a.to,"prepend-icon":a.icon},{default:o(()=>[v(w(a.text),1)]),_:2},1032,["to","prepend-icon"])):u("",!0)],64))),256)),e(t).isLoggedIn?(s(),i(h,{key:0,"prepend-icon":"mdi-account-arrow-right",onClick:g[1]||(g[1]=()=>{C(),d.value=!1})},{default:o(()=>[v(w(c.$t("nav.logout")),1)]),_:1})):u("",!0)]),_:1})]),_:1},8,["modelValue"])),n(z,{permanent:"",rail:e(l),"rail-width":"1",drawer:"drawer",width:"260",class:H([{"cursor-pointer":e(l)},"custom-drawer"])},{default:o(()=>[e(l)?(s(),i(V,{key:0},{default:o(()=>[n(h,null,{default:o(()=>[n(k,{image:e(t).avatar,size:"40"},null,8,["image"])]),_:1})]),_:1})):u("",!0),e(l)?u("",!0):(s(),i(V,{key:1},{default:o(()=>[B("div",W,[n(h,{"prepend-avatar":e(t).avatar,title:e(t).nickname},null,8,["prepend-avatar","title"])]),n(O),(s(!0),m(p,null,y(S.value,a=>(s(),i(h,{key:a.to,to:a.to},{default:o(()=>[v(w(a.text),1)]),_:2},1032,["to"]))),128))]),_:1})),e(f)?u("",!0):(s(),m("div",{key:2,class:"drawer-toggle",onClick:g[3]||(g[3]=a=>l.value=!e(l))},[n(P,{icon:e(l)?"mdi-chevron-right":"mdi-chevron-left",size:"small"},null,8,["icon"])]))]),_:1},8,["rail","class"]),n(J,null,{default:o(()=>[n(j)]),_:1})],64)}}};export{oe as default};
