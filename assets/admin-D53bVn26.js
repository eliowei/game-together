import{u as R,a as $,i as F,b as M,c as q,r as k,d as A,w as E,o as G,e as H,f as m,g as n,h as o,j as e,k as u,l as P,m as d,F as p,n as s,V as _,p as x,q as B,s as V,t as f,v,x as T}from"./index-P93lvV20.js";import{_ as J}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as K,a as U,b as O,c as Q}from"./VNavigationDrawer-CYR0nqlr.js";import{V as N}from"./VContainer-BbDKO7uf.js";import{V as w,a as y}from"./VList-d60XAnFF.js";import{V as W}from"./VDivider-B5LdIT6-.js";const X={class:"d-flex mr-6"},Y={class:"d-flex justify-space-between align-center"},Z={__name:"admin",setup(ee){const{t:l}=R(),t=$(),z=F(),{mdAndUp:g}=M(),S=q(),i=k(!1),r=k(!1),L=k(new URL("/game-together/assets/logo-FHMshnbs.png",import.meta.url).href),I=A(()=>[{to:"/group",text:l("nav.groupList"),icon:"mdi-invoice-list-outline",show:t.isLoggedIn||!t.isLoggedIn},{to:"/creategroup/step1",text:l("nav.groupCreate"),icon:"mdi-flag-outline",show:t.isLoggedIn||!t.isLoggedIn},{to:"/member/organizer",text:l("nav.membersSection"),icon:"mdi-account-group",show:t.isLoggedIn},{to:"/admin/groups",text:l("nav.adminSection"),icon:"mdi-cog",show:t.isLoggedIn&&t.isAdmin},{to:"/contact",text:l("nav.contactUs"),icon:"mdi-chat",show:t.isLoggedIn||!t.isLoggedIn},{to:"/login",text:l("nav.login"),icon:"mdi-account-arrow-left",show:!t.isLoggedIn},{to:"/register",text:l("nav.register"),icon:"mdi-account-plus",show:!t.isLoggedIn}]),j=A(()=>[{to:"/admin/groups",text:l("nav.adminGroups")},{to:"/admin/users",text:l("nav.adminUsers")},{to:"/admin/contacts",text:l("nav.adminContacts")}]),b=async()=>{try{await apiAuth.delete("/user/logout")}catch(h){console.log(h)}t.logout(),z({text:l("logout.success"),snackbarProps:{color:"green"}}),i.value=!1,S.push("/")},C=()=>{console.log("mdAndUp:",g.value,"rail:",r.value,"dialog:",i.value),g.value?(i.value&&(i.value=!1),r.value&&(r.value=!1)):r.value||(r.value=!0)};return E(g,C),G(C),(h,c)=>{const D=H("router-view");return s(),m(p,null,[n(K,null,{default:o(()=>[e(g)?(s(),u(N,{key:0,class:"d-flex justify-space-between align-center",fluid:"",style:{"max-width":"1440px"}},{default:o(()=>[n(_,{to:"/",active:!1,class:"ml-2",height:"60",ripple:!1},{default:o(()=>[n(x,{image:e(L),rounded:"0",size:"65"},null,8,["image"])]),_:1}),B("div",X,[(s(!0),m(p,null,V(I.value,a=>(s(),m(p,{key:a.to},[a.show?(s(),u(_,{key:0,to:a.to,"prepend-icon":a.icon},{default:o(()=>[f(v(a.text),1)]),_:2},1032,["to","prepend-icon"])):d("",!0)],64))),128)),e(t).isLoggedIn?(s(),u(_,{key:0,"prepend-icon":"mdi-account-arrow-right",onClick:b},{default:o(()=>[f(v(h.$t("nav.logout")),1)]),_:1})):d("",!0),n(x,{border:"xs",image:e(t).avatar},null,8,["image"])])]),_:1})):d("",!0),e(g)?d("",!0):(s(),u(N,{key:1,class:"d-flex justify-space-between align-center",fluid:""},{default:o(()=>[n(_,{to:"/",active:!1,class:"ml-2",height:"60",ripple:!1},{default:o(()=>[n(x,{image:e(L),rounded:"0",size:"65"},null,8,["image"])]),_:1}),n(Q,{onClick:c[0]||(c[0]=a=>i.value=!e(i))})]),_:1}))]),_:1}),e(g)?d("",!0):(s(),u(U,{key:0,modelValue:e(i),"onUpdate:modelValue":c[2]||(c[2]=a=>P(i)?i.value=a:null),temporary:"",location:"top"},{default:o(()=>[n(y,null,{default:o(()=>[(s(!0),m(p,null,V(I.value,a=>(s(),m(p,null,[a.show?(s(),u(w,{key:0,to:a.to,"prepend-icon":a.icon},{default:o(()=>[f(v(a.text),1)]),_:2},1032,["to","prepend-icon"])):d("",!0)],64))),256)),e(t).isLoggedIn?(s(),u(w,{key:0,"prepend-icon":"mdi-account-arrow-right",onClick:c[1]||(c[1]=()=>{b(),i.value=!1})},{default:o(()=>[f(v(h.$t("nav.logout")),1)]),_:1})):d("",!0)]),_:1})]),_:1},8,["modelValue"])),n(U,{permanent:"",rail:e(r),"rail-width":"10",drawer:"drawer",width:"260",class:"custom-drawer"},{default:o(()=>[e(r)?(s(),u(y,{key:0},{default:o(()=>[n(w,null,{default:o(()=>[n(x,{image:e(t).avatar,size:"40"},null,8,["image"])]),_:1})]),_:1})):d("",!0),e(r)?d("",!0):(s(),u(y,{key:1},{default:o(()=>[B("div",Y,[n(w,{"prepend-avatar":e(t).avatar,title:e(t).nickname},null,8,["prepend-avatar","title"])]),n(W),(s(!0),m(p,null,V(j.value,a=>(s(),u(w,{key:a.to,to:a.to},{default:o(()=>[f(v(a.text),1)]),_:2},1032,["to"]))),128))]),_:1})),e(g)?d("",!0):(s(),m("div",{key:2,class:"drawer-toggle",onClick:c[3]||(c[3]=a=>r.value=!e(r))},[n(T,{icon:e(r)?"mdi-chevron-right":"mdi-chevron-left",size:"small"},null,8,["icon"])]))]),_:1},8,["rail"]),n(O,null,{default:o(()=>[n(D)]),_:1})],64)}}},re=J(Z,[["__scopeId","data-v-89ccff22"]]);export{re as default};
