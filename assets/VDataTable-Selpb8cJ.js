import{bk as kt,be as pt,a5 as Re,f as ee,b2 as U,bl as te,y as F,S as be,G as C,a0 as Q,bm as ne,a4 as O,bn as Y,ar as Z,r as z,bo as It,bp as se,bq as He,w as Se,br as $e,$ as me,bs as Dt,aT as ie,bt as re,bu as Ft,C as G,D as X,q as P,d as k,B as M,a6 as we,aZ as N,bv as Tt,Y as B,n as ae,bw as Vt,bx as Ct,by as Ot,N as Bt,b as Pe,bz as _t,F as J,at as Ce,E as Le,bA as Et,ah as ke,bB as de,V as Ge,t as Oe,x as oe,v as At,b1 as ve,bC as ye,Q as Nt,bD as Mt,J as Rt,H as Ht,I as $t,bE as Lt,T as Gt}from"./index-DGDPAFvN.js";import{V as Be}from"./VPagination-k2GtoYxE.js";import{V as je}from"./VSelect-D7It98hi.js";import{V as jt}from"./VChip-BLJmKbnz.js";import{a as ue}from"./VMenu-BCtUym_C.js";import{V as Kt}from"./VDivider-C7U-UNkw.js";function _e(e,l,a){return Object.keys(e).filter(t=>kt(t)&&t.endsWith(l)).reduce((t,n)=>(t[n.slice(0,-l.length)]=r=>pt(e[n],r,a(r)),t),{})}const Wt=(e,l,a)=>{if(e==null||l==null)return-1;if(!l.length)return 0;e=e.toString().toLocaleLowerCase(),l=l.toString().toLocaleLowerCase();const t=[];let n=e.indexOf(l);for(;~n;)t.push([n,n+l.length]),n=e.indexOf(l,n+l.length);return t.length?t:-1};function he(e,l){if(!(e==null||typeof e=="boolean"||e===-1))return typeof e=="number"?[[e,e+l.length]]:Array.isArray(e[0])?e:[e]}const zt=C({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function Ut(e,l,a){var s;const t=[],n=(a==null?void 0:a.default)??Wt,r=a!=null&&a.filterKeys?U(a.filterKeys):!1,o=Object.keys((a==null?void 0:a.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return t;let i=null;e:for(let d=0;d<e.length;d++){const[c,m=c]=U(e[d]),g={},y={};let v=-1;if((l||o>0)&&!(a!=null&&a.noFilter)){let h=!1;if(typeof c=="object"){if(c.type==="divider"||c.type==="subheader"){(i==null?void 0:i.type)==="divider"&&c.type==="subheader"&&t.push(i),i={index:d,matches:{},type:c.type};continue}const u=r||Object.keys(m);h=u.length===o;for(const S of u){const p=te(m,S),w=(s=a==null?void 0:a.customKeyFilter)==null?void 0:s[S];if(v=w?w(p,l,c):n(p,l,c),v!==-1&&v!==!1)w?g[S]=he(v,l):y[S]=he(v,l);else if((a==null?void 0:a.filterMode)==="every")continue e}}else v=n(c,l,c),v!==-1&&v!==!1&&(y.title=he(v,l));const f=Object.keys(y).length,x=Object.keys(g).length;if(!f&&!x||(a==null?void 0:a.filterMode)==="union"&&x!==o&&!f||(a==null?void 0:a.filterMode)==="intersection"&&(x!==o||!f&&o>0&&!h))continue}i&&(t.push(i),i=null),t.push({index:d,matches:{...y,...g}})}return t}function Qt(e,l,a,t){const n=be([]),r=be(new Map),o=F(()=>t!=null&&t.transform?ee(l).map(s=>[s,t.transform(s)]):ee(l));Re(()=>{const s=typeof a=="function"?a():ee(a),d=typeof s!="string"&&typeof s!="number"?"":String(s),c=Ut(o.value,d,{customKeyFilter:{...e.customKeyFilter,...ee(t==null?void 0:t.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),m=ee(l),g=[],y=new Map;c.forEach(v=>{let{index:h,matches:f}=v;const x=m[h];g.push(x),y.set(x.value,f)}),n.value=g,r.value=y});function i(s){return r.value.get(s.value)}return{filteredItems:n,filteredMatches:r,getMatches:i}}const Jt=C({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),Ke=Symbol.for("vuetify:datatable:expanded");function Yt(e){const l=O(()=>e.expandOnClick),a=Q(e,"expanded",e.expanded,i=>new Set(i),i=>[...i.values()]);function t(i,s){const d=new Set(a.value),c=ne(i.value);if(s)d.add(c);else{const m=[...a.value].find(g=>ne(g)===c);d.delete(m)}a.value=d}function n(i){const s=ne(i.value);return[...a.value].some(d=>ne(d)===s)}function r(i){t(i,!n(i))}const o={expand:t,expanded:a,expandOnClick:l,isExpanded:n,toggleExpand:r};return Z(Ke,o),o}function We(){const e=Y(Ke);if(!e)throw new Error("foo");return e}const Zt=C({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),ze=Symbol.for("vuetify:data-table-group");function Xt(e){return{groupBy:Q(e,"groupBy")}}function qt(e){const{disableSort:l,groupBy:a,sortBy:t}=e,n=z(new Set),r=F(()=>a.value.map(c=>({...c,order:c.order??!1})).concat(l!=null&&l.value?[]:t.value));function o(c){return n.value.has(c.id)}function i(c){const m=new Set(n.value);o(c)?m.delete(c.id):m.add(c.id),n.value=m}function s(c){function m(g){const y=[];for(const v of g.items)"type"in v&&v.type==="group"?y.push(...m(v)):y.push(v);return[...new Set(y)]}return m({items:c})}const d={sortByWithGroups:r,toggleGroup:i,opened:n,groupBy:a,extractRows:s,isGroupOpen:o};return Z(ze,d),d}function Ue(){const e=Y(ze);if(!e)throw new Error("Missing group!");return e}function ea(e,l){if(!e.length)return[];const a=new Map;for(const t of e){const n=se(t.raw,l);a.has(n)||a.set(n,[]),a.get(n).push(t)}return a}function Qe(e,l){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!l.length)return[];const n=ea(e,l[0]),r=[],o=l.slice(1);return n.forEach((i,s)=>{const d=l[0],c=`${t}_${d}_${s}`;r.push({depth:a,id:c,key:d,value:s,items:o.length?Qe(i,o,a+1,c):i,type:"group"})}),r}function Je(e,l,a){const t=[];for(const n of e)"type"in n&&n.type==="group"?(n.value!=null&&t.push(n),(l.has(n.id)||n.value==null)&&(t.push(...Je(n.items,l,a)),a&&t.push({...n,type:"group-summary"}))):t.push(n);return t}function ta(e,l,a,t){return{flatItems:F(()=>{if(!l.value.length)return e.value;const r=Qe(e.value,l.value.map(o=>o.key));return Je(r,a.value,It(t))})}}function aa(e){let{page:l,itemsPerPage:a,sortBy:t,groupBy:n,search:r}=e;const o=He("VDataTable"),i=()=>({page:l.value,itemsPerPage:a.value,sortBy:t.value,groupBy:n.value,search:r.value});let s=null;Se(i,d=>{$e(s,d)||(s&&s.search!==d.search&&(l.value=1),o.emit("update:options",d),s=d)},{deep:!0,immediate:!0})}const la=C({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),Ye=Symbol.for("vuetify:data-table-pagination");function na(e){const l=Q(e,"page",void 0,t=>Number(t??1)),a=Q(e,"itemsPerPage",void 0,t=>Number(t??10));return{page:l,itemsPerPage:a}}function ra(e){const{page:l,itemsPerPage:a,itemsLength:t}=e,n=F(()=>a.value===-1?0:a.value*(l.value-1)),r=F(()=>a.value===-1?t.value:Math.min(t.value,n.value+a.value)),o=F(()=>a.value===-1||t.value===0?1:Math.ceil(t.value/a.value));Se([l,o],()=>{l.value>o.value&&(l.value=o.value)});function i(g){a.value=g,l.value=1}function s(){l.value=me(l.value+1,1,o.value)}function d(){l.value=me(l.value-1,1,o.value)}function c(g){l.value=me(g,1,o.value)}const m={page:l,itemsPerPage:a,startIndex:n,stopIndex:r,pageCount:o,itemsLength:t,nextPage:s,prevPage:d,setPage:c,setItemsPerPage:i};return Z(Ye,m),m}function oa(){const e=Y(Ye);if(!e)throw new Error("Missing pagination!");return e}function sa(e){const l=He("usePaginatedItems"),{items:a,startIndex:t,stopIndex:n,itemsPerPage:r}=e,o=F(()=>r.value<=0?a.value:a.value.slice(t.value,n.value));return Se(o,i=>{l.emit("update:currentItems",i)},{immediate:!0}),{paginatedItems:o}}const ua={showSelectAll:!1,allSelected:()=>[],select:e=>{var t;let{items:l,value:a}=e;return new Set(a?[(t=l[0])==null?void 0:t.value]:[])},selectAll:e=>{let{selected:l}=e;return l}},Ze={showSelectAll:!0,allSelected:e=>{let{currentPage:l}=e;return l},select:e=>{let{items:l,value:a,selected:t}=e;for(const n of l)a?t.add(n.value):t.delete(n.value);return t},selectAll:e=>{let{value:l,currentPage:a,selected:t}=e;return Ze.select({items:a,value:l,selected:t})}},ia={showSelectAll:!0,allSelected:e=>{let{allItems:l}=e;return l},select:e=>{let{items:l,value:a,selected:t}=e;for(const n of l)a?t.add(n.value):t.delete(n.value);return t},selectAll:e=>{let{value:l,allItems:a}=e;return new Set(l?a.map(t=>t.value):[])}},da=C({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:Function},"DataTable-select"),Xe=Symbol.for("vuetify:data-table-selection");function ca(e,l){let{allItems:a,currentPage:t}=l;const n=Q(e,"modelValue",e.modelValue,u=>{const S=e.valueComparator;return S?new Set(U(u).map(p=>{var w;return((w=a.value.find(T=>S(p,T.value)))==null?void 0:w.value)??p})):new Set(U(u).map(p=>{var w,T;return Dt(p)?((w=a.value.find(V=>p===V.value))==null?void 0:w.value)??p:((T=a.value.find(V=>$e(p,V.value)))==null?void 0:T.value)??p}))},u=>[...u.values()]),r=F(()=>a.value.filter(u=>u.selectable)),o=F(()=>t.value.filter(u=>u.selectable)),i=F(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return ua;case"all":return ia;case"page":default:return Ze}}),s=be(null);function d(u){return U(u).every(S=>n.value.has(S.value))}function c(u){return U(u).some(S=>n.value.has(S.value))}function m(u,S){const p=i.value.select({items:u,value:S,selected:new Set(n.value)});n.value=p}function g(u,S,p){const w=[];if(S=S??t.value.findIndex(T=>T.value===u.value),e.selectStrategy!=="single"&&(p!=null&&p.shiftKey)&&s.value!==null){const[T,V]=[s.value,S].sort((R,D)=>R-D);w.push(...t.value.slice(T,V+1).filter(R=>R.selectable))}else w.push(u),s.value=S;m(w,!d([u]))}function y(u){const S=i.value.selectAll({value:u,allItems:r.value,currentPage:o.value,selected:new Set(n.value)});n.value=S}const v=F(()=>n.value.size>0),h=F(()=>{const u=i.value.allSelected({allItems:r.value,currentPage:o.value});return!!u.length&&d(u)}),f=O(()=>i.value.showSelectAll),x={toggleSelect:g,select:m,selectAll:y,isSelected:d,isSomeSelected:c,someSelected:v,allSelected:h,showSelectAll:f,lastSelectedIndex:s,selectStrategy:i};return Z(Xe,x),x}function ce(){const e=Y(Xe);if(!e)throw new Error("Missing selection!");return e}const fa=C({initialSortOrder:{type:String,default:"asc",validator:e=>!e||["asc","desc"].includes(e)},sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:{type:[Boolean,Object],default:!1},mustSort:Boolean},"DataTable-sort"),qe=Symbol.for("vuetify:data-table-sort");function ga(e){const l=O(()=>e.initialSortOrder),a=Q(e,"sortBy"),t=O(()=>e.mustSort),n=O(()=>e.multiSort);return{initialSortOrder:l,sortBy:a,multiSort:n,mustSort:t}}function ma(e,l){if(!Ft(e))return{active:!!e};const{key:a,mode:t,modifier:n}=e,r=n==="alt"&&(l==null?void 0:l.altKey)||n==="shift"&&(l==null?void 0:l.shiftKey);return{active:!a||(l==null?void 0:l.ctrlKey)||(l==null?void 0:l.metaKey)||!1,mode:r?t==="append"?"prepend":"append":t}}function va(e){const{initialSortOrder:l,sortBy:a,mustSort:t,multiSort:n,page:r}=e,o=(d,c)=>{if(d.key==null)return;let m=a.value.map(h=>({...h}))??[];const g=m.find(h=>h.key===d.key),y=l.value,v=l.value==="desc"?"asc":"desc";if(g)g.order===v?t.value&&m.length===1?g.order=l.value:m=m.filter(h=>h.key!==d.key):g.order=v;else{const{active:h,mode:f}=ma(n.value,c);h?f==="prepend"?m.unshift({key:d.key,order:y}):m.push({key:d.key,order:y}):m=[{key:d.key,order:y}]}a.value=m,r&&(r.value=1)};function i(d){return!!a.value.find(c=>c.key===d.key)}const s={sortBy:a,toggleSort:o,isSorted:i};return Z(qe,s),s}function et(){const e=Y(qe);if(!e)throw new Error("Missing sort!");return e}function ha(e,l,a,t){const n=ie();return{sortedItems:F(()=>{var o,i;return a.value.length?ba(l.value,a.value,n.current.value,{transform:t==null?void 0:t.transform,sortFunctions:{...e.customKeySort,...(o=t==null?void 0:t.sortFunctions)==null?void 0:o.value},sortRawFunctions:(i=t==null?void 0:t.sortRawFunctions)==null?void 0:i.value}):l.value})}}function ba(e,l,a,t){const n=new Intl.Collator(a,{sensitivity:"accent",usage:"sort"});return e.map(o=>[o,t!=null&&t.transform?t.transform(o):o]).sort((o,i)=>{var s,d;for(let c=0;c<l.length;c++){let m=!1;const g=l[c].key,y=l[c].order??"asc";if(y===!1)continue;let v=se(o[1],g),h=se(i[1],g),f=o[0].raw,x=i[0].raw;if(y==="desc"&&([v,h]=[h,v],[f,x]=[x,f]),(s=t==null?void 0:t.sortRawFunctions)!=null&&s[g]){const u=t.sortRawFunctions[g](f,x);if(u==null)continue;if(m=!0,u)return u}if((d=t==null?void 0:t.sortFunctions)!=null&&d[g]){const u=t.sortFunctions[g](v,h);if(u==null)continue;if(m=!0,u)return u}if(!m&&(v instanceof Date&&h instanceof Date&&(v=v.getTime(),h=h.getTime()),[v,h]=[v,h].map(u=>u!=null?u.toString().toLocaleLowerCase():u),v!==h))return re(v)&&re(h)?0:re(v)?-1:re(h)?1:!isNaN(v)&&!isNaN(h)?Number(v)-Number(h):n.compare(v,h)}return 0}).map(o=>{let[i]=o;return i})}const tt=C({color:String,prevIcon:{type:N,default:"$prev"},nextIcon:{type:N,default:"$next"},firstIcon:{type:N,default:"$first"},lastIcon:{type:N,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),Ee=G()({name:"VDataTableFooter",props:tt(),setup(e,l){let{slots:a}=l;const{t}=ie(),{page:n,pageCount:r,startIndex:o,stopIndex:i,itemsLength:s,itemsPerPage:d,setItemsPerPage:c}=oa(),m=F(()=>e.itemsPerPageOptions.map(g=>typeof g=="number"?{value:g,title:g===-1?t("$vuetify.dataFooter.itemsPerPageAll"):String(g)}:{...g,title:isNaN(Number(g.title))?t(g.title):g.title}));return X(()=>{var y;const g=Be.filterProps(e);return P("div",{class:"v-data-table-footer"},[(y=a.prepend)==null?void 0:y.call(a),P("div",{class:"v-data-table-footer__items-per-page"},[P("span",null,[t(e.itemsPerPageText)]),k(je,{items:m.value,itemColor:e.color,modelValue:d.value,"onUpdate:modelValue":v=>c(Number(v)),density:"compact",variant:"outlined","aria-label":t(e.itemsPerPageText),hideDetails:!0},null)]),P("div",{class:"v-data-table-footer__info"},[P("div",null,[t(e.pageText,s.value?o.value+1:0,i.value,s.value)])]),P("div",{class:"v-data-table-footer__pagination"},[k(Be,M({modelValue:n.value,"onUpdate:modelValue":v=>n.value=v,density:"comfortable",firstAriaLabel:e.firstPageLabel,lastAriaLabel:e.lastPageLabel,length:r.value,nextAriaLabel:e.nextPageLabel,previousAriaLabel:e.prevPageLabel,rounded:!0,showFirstLastPage:!0,totalVisible:e.showCurrentPage?1:0,variant:"plain"},we(g,["color"])),null)])])}),{}}}),le=Tt({align:{type:String,default:"start"},fixed:{type:[Boolean,String],default:!1},fixedOffset:[Number,String],fixedEndOffset:[Number,String],height:[Number,String],lastFixed:Boolean,firstFixedEnd:Boolean,noPadding:Boolean,indent:[Number,String],empty:Boolean,tag:String,width:[Number,String],maxWidth:[Number,String],nowrap:Boolean},(e,l)=>{let{slots:a}=l;const t=e.tag??"td",n=typeof e.fixed=="string"?e.fixed:e.fixed?"start":"none";return k(t,{class:ae(["v-data-table__td",{"v-data-table-column--fixed":n==="start","v-data-table-column--fixed-end":n==="end","v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--first-fixed-end":e.firstFixedEnd,"v-data-table-column--no-padding":e.noPadding,"v-data-table-column--nowrap":e.nowrap,"v-data-table-column--empty":e.empty},`v-data-table-column--align-${e.align}`]),style:{height:B(e.height),width:B(e.width),maxWidth:B(e.maxWidth),left:n==="start"?B(e.fixedOffset||null):void 0,right:n==="end"?B(e.fixedEndOffset||null):void 0,paddingInlineStart:e.indent?B(e.indent):void 0}},{default:()=>{var r;return[(r=a.default)==null?void 0:r.call(a)]}})}),ya=C({headers:Array},"DataTable-header"),at=Symbol.for("vuetify:data-table-headers"),lt={title:"",sortable:!1},xa={...lt,width:48};function Sa(){const l=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(a=>({element:a,priority:0}));return{enqueue:(a,t)=>{let n=!1;for(let r=0;r<l.length;r++)if(l[r].priority>t){l.splice(r,0,{element:a,priority:t}),n=!0;break}n||l.push({element:a,priority:t})},size:()=>l.length,count:()=>{let a=0;if(!l.length)return 0;const t=Math.floor(l[0].priority);for(let n=0;n<l.length;n++)Math.floor(l[n].priority)===t&&(a+=1);return a},dequeue:()=>l.shift()}}function xe(e){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e.children)l.push(e);else for(const a of e.children)xe(a,l);return l}function nt(e){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const a of e)a.key&&l.add(a.key),a.children&&nt(a.children,l);return l}function wa(e){if(e.key){if(e.key==="data-table-group")return lt;if(["data-table-expand","data-table-select"].includes(e.key))return xa}}function pe(e){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.children?Math.max(l,...e.children.map(a=>pe(a,l+1))):l}function Pa(e){let l=!1;function a(r,o){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"none";if(r)if(i!=="none"&&(r.fixed=i),r.fixed===!0&&(r.fixed="start"),r.fixed===o)if(r.children)if(o==="start")for(let s=r.children.length-1;s>=0;s--)a(r.children[s],o,o);else for(let s=0;s<r.children.length;s++)a(r.children[s],o,o);else!l&&o==="start"?r.lastFixed=!0:!l&&o==="end"?r.firstFixedEnd=!0:isNaN(Number(r.width))?Ct(`Multiple fixed columns should have a static width (key: ${r.key})`):r.minWidth=Math.max(Number(r.width)||0,Number(r.minWidth)||0),l=!0;else if(r.children)if(o==="start")for(let s=r.children.length-1;s>=0;s--)a(r.children[s],o);else for(let s=0;s<r.children.length;s++)a(r.children[s],o);else l=!1}for(let r=e.length-1;r>=0;r--)a(e[r],"start");for(let r=0;r<e.length;r++)a(e[r],"end");let t=0;for(let r=0;r<e.length;r++)t=rt(e[r],t);let n=0;for(let r=e.length-1;r>=0;r--)n=ot(e[r],n)}function rt(e){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!e)return l;if(e.children){e.fixedOffset=l;for(const a of e.children)l=rt(a,l)}else e.fixed&&e.fixed!=="end"&&(e.fixedOffset=l,l+=parseFloat(e.width||"0")||0);return l}function ot(e){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!e)return l;if(e.children){e.fixedEndOffset=l;for(const a of e.children)l=ot(a,l)}else e.fixed==="end"&&(e.fixedEndOffset=l,l+=parseFloat(e.width||"0")||0);return l}function ka(e,l){const a=[];let t=0;const n=Sa(e);for(;n.size()>0;){let o=n.count();const i=[];let s=1;for(;o>0;){const{element:d,priority:c}=n.dequeue(),m=l-t-pe(d);if(i.push({...d,rowspan:m??1,colspan:d.children?xe(d).length:1}),d.children)for(const g of d.children){const y=c%1+s/Math.pow(10,t+2);n.enqueue(g,t+m+y)}s+=1,o-=1}t+=1,a.push(i)}return{columns:e.map(o=>xe(o)).flat(),headers:a}}function st(e){const l=[];for(const a of e){const t={...wa(a),...a},n=t.key??(typeof t.value=="string"?t.value:null),r=t.value??n??null,o={...t,key:n,value:r,sortable:t.sortable??(t.key!=null||!!t.sort),children:t.children?st(t.children):void 0};l.push(o)}return l}function pa(e,l){const a=z([]),t=z([]),n=z({}),r=z({}),o=z({});Re(()=>{var h,f,x;const d=(e.headers||Object.keys(e.items[0]??{}).map(u=>({key:u,title:Vt(u)}))).slice(),c=nt(d);(h=l==null?void 0:l.groupBy)!=null&&h.value.length&&!c.has("data-table-group")&&d.unshift({key:"data-table-group",title:"Group"}),(f=l==null?void 0:l.showSelect)!=null&&f.value&&!c.has("data-table-select")&&d.unshift({key:"data-table-select"}),(x=l==null?void 0:l.showExpand)!=null&&x.value&&!c.has("data-table-expand")&&d.push({key:"data-table-expand"});const m=st(d);Pa(m);const g=Math.max(...m.map(u=>pe(u)))+1,y=ka(m,g);a.value=y.headers,t.value=y.columns;const v=y.headers.flat(1);for(const u of v)u.key&&(u.sortable&&(u.sort&&(n.value[u.key]=u.sort),u.sortRaw&&(r.value[u.key]=u.sortRaw)),u.filter&&(o.value[u.key]=u.filter))});const i={headers:a,columns:t,sortFunctions:n,sortRawFunctions:r,filterFunctions:o};return Z(at,i),i}function fe(){const e=Y(at);if(!e)throw new Error("Missing headers!");return e}const ut=C({color:String,disableSort:Boolean,fixedHeader:Boolean,multiSort:Boolean,initialSortOrder:String,sortAscIcon:{type:N,default:"$sortAsc"},sortDescIcon:{type:N,default:"$sortDesc"},headerProps:{type:Object},sticky:Boolean,...de(),...ke(),...Et()},"VDataTableHeaders"),Ae=G()({name:"VDataTableHeaders",props:ut(),setup(e,l){let{slots:a}=l;const{t}=ie(),{toggleSort:n,sortBy:r,isSorted:o}=et(),{someSelected:i,allSelected:s,selectAll:d,showSelectAll:c}=ce(),{columns:m,headers:g}=fe(),{loaderClasses:y}=Ot(e);function v(D,b){if(!(e.sticky||e.fixedHeader)&&!D.fixed)return;const I=typeof D.fixed=="string"?D.fixed:D.fixed?"start":"none";return{position:"sticky",left:I==="start"?B(D.fixedOffset):void 0,right:I==="end"?B(D.fixedEndOffset):void 0,top:e.sticky||e.fixedHeader?`calc(var(--v-table-header-height) * ${b})`:void 0}}function h(D,b){D.key==="Enter"&&!e.disableSort&&n(b,D)}function f(D){const b=r.value.find(I=>I.key===D.key);return!b&&e.initialSortOrder==="asc"||(b==null?void 0:b.order)==="asc"?e.sortAscIcon:e.sortDescIcon}const{backgroundColorClasses:x,backgroundColorStyles:u}=Bt(()=>e.color),{displayClasses:S,mobile:p}=Pe(e),w=F(()=>({headers:g.value,columns:m.value,toggleSort:n,isSorted:o,sortBy:r.value,someSelected:i.value,allSelected:s.value,selectAll:d,getSortIcon:f})),T=F(()=>["v-data-table__th",{"v-data-table__th--sticky":e.sticky||e.fixedHeader},S.value,y.value]),V=D=>{let{column:b,x:I,y:_}=D;const H=b.key==="data-table-select"||b.key==="data-table-expand",L=b.key==="data-table-group"&&b.width===0&&!b.title,j=M(e.headerProps??{},b.headerProps??{});return k(le,M({tag:"th",align:b.align,class:[{"v-data-table__th--sortable":b.sortable&&!e.disableSort,"v-data-table__th--sorted":o(b),"v-data-table__th--fixed":b.fixed},...T.value],style:{width:B(b.width),minWidth:B(b.minWidth),maxWidth:B(b.maxWidth),...v(b,_)},colspan:b.colspan,rowspan:b.rowspan,fixed:b.fixed,nowrap:b.nowrap,lastFixed:b.lastFixed,firstFixedEnd:b.firstFixedEnd,noPadding:H,empty:L,tabindex:b.sortable?0:void 0,onClick:b.sortable?E=>n(b,E):void 0,onKeydown:b.sortable?E=>h(E,b):void 0},j),{default:()=>{var W;const E=`header.${b.key}`,K={column:b,selectAll:d,isSorted:o,toggleSort:n,sortBy:r.value,someSelected:i.value,allSelected:s.value,getSortIcon:f};return a[E]?a[E](K):L?"":b.key==="data-table-select"?((W=a["header.data-table-select"])==null?void 0:W.call(a,K))??(c.value&&k(ue,{color:e.color,density:e.density,modelValue:s.value,indeterminate:i.value&&!s.value,"onUpdate:modelValue":d},null)):P("div",{class:"v-data-table-header__content"},[P("span",null,[b.title]),b.sortable&&!e.disableSort&&k(Ce,{key:"icon",class:"v-data-table-header__sort-icon",icon:f(b)},null),e.multiSort&&o(b)&&P("div",{key:"badge",class:ae(["v-data-table-header__sort-badge",...x.value]),style:Le(u.value)},[r.value.findIndex(ge=>ge.key===b.key)+1])])}})},R=()=>{const D=F(()=>m.value.filter(I=>(I==null?void 0:I.sortable)&&!e.disableSort)),b=m.value.find(I=>I.key==="data-table-select");return k(le,M({tag:"th",class:[...T.value],colspan:g.value.length+1},e.headerProps),{default:()=>[P("div",{class:"v-data-table-header__content"},[k(je,{chips:!0,color:e.color,class:"v-data-table__td-sort-select",clearable:!0,density:"default",items:D.value,label:t("$vuetify.dataTable.sortBy"),multiple:e.multiSort,variant:"underlined","onClick:clear":()=>r.value=[]},{append:b?()=>k(ue,{color:e.color,density:"compact",modelValue:s.value,indeterminate:i.value&&!s.value,"onUpdate:modelValue":()=>d(!s.value)},null):void 0,chip:I=>{var _;return k(jt,{onClick:(_=I.item.raw)!=null&&_.sortable?()=>n(I.item.raw):void 0,onMousedown:H=>{H.preventDefault(),H.stopPropagation()}},{default:()=>[I.item.title,k(Ce,{class:ae(["v-data-table__td-sort-icon",o(I.item.raw)&&"v-data-table__td-sort-icon-active"]),icon:f(I.item.raw),size:"small"},null)]})}})])]})};X(()=>p.value?P("tr",null,[k(R,null,null)]):P(J,null,[a.headers?a.headers(w.value):g.value.map((D,b)=>P("tr",null,[D.map((I,_)=>k(V,{column:I,x:_,y:b},null))])),e.loading&&P("tr",{class:"v-data-table-progress"},[P("th",{colspan:m.value.length},[k(_t,{name:"v-data-table-progress",absolute:!0,active:!0,color:typeof e.loading=="boolean"||e.loading==="true"?e.color:e.loading,indeterminate:!0},{default:a.loader})])])]))}}),it=C({item:{type:Object,required:!0},groupCollapseIcon:{type:N,default:"$tableGroupCollapse"},groupExpandIcon:{type:N,default:"$tableGroupExpand"},...de()},"VDataTableGroupHeaderRow"),Ia=G()({name:"VDataTableGroupHeaderRow",props:it(),setup(e,l){let{slots:a}=l;const{isGroupOpen:t,toggleGroup:n,extractRows:r}=Ue(),{isSelected:o,isSomeSelected:i,select:s}=ce(),{columns:d}=fe(),c=F(()=>r([e.item])),m=O(()=>d.value.length-(d.value.some(g=>g.key==="data-table-select")?1:0));return()=>P("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[d.value.map(g=>{var y,v;if(g.key==="data-table-group"){const h=t(e.item)?e.groupCollapseIcon:e.groupExpandIcon,f=()=>n(e.item);return((y=a["data-table-group"])==null?void 0:y.call(a,{item:e.item,count:c.value.length,props:{icon:h,onClick:f}}))??k(le,{class:"v-data-table-group-header-row__column",colspan:m.value},{default:()=>[k(Ge,{size:"small",variant:"text",icon:h,onClick:f},null),P("span",null,[e.item.value]),P("span",null,[Oe("("),c.value.length,Oe(")")])]})}else if(g.key==="data-table-select"){const h=c.value.filter(S=>S.selectable),f=h.length>0&&o(h),x=i(h)&&!f,u=S=>s(h,S);return((v=a["data-table-select"])==null?void 0:v.call(a,{props:{modelValue:f,indeterminate:x,"onUpdate:modelValue":u}}))??k(le,{class:"v-data-table__td--select-row",noPadding:!0},{default:()=>[k(ue,{density:e.density,disabled:h.length===0,modelValue:f,indeterminate:x,"onUpdate:modelValue":u},null)]})}return""})])}}),dt=C({color:String,index:Number,item:Object,cellProps:[Object,Function],collapseIcon:{type:N,default:"$collapse"},expandIcon:{type:N,default:"$expand"},onClick:ve(),onContextmenu:ve(),onDblclick:ve(),...de(),...ke()},"VDataTableRow"),Da=G()({name:"VDataTableRow",props:dt(),setup(e,l){let{slots:a}=l;const{displayClasses:t,mobile:n}=Pe(e,"v-data-table__tr"),{isSelected:r,toggleSelect:o,someSelected:i,allSelected:s,selectAll:d}=ce(),{isExpanded:c,toggleExpand:m}=We(),{toggleSort:g,sortBy:y,isSorted:v}=et(),{columns:h}=fe();X(()=>P("tr",{class:ae(["v-data-table__tr",{"v-data-table__tr--clickable":!!(e.onClick||e.onContextmenu||e.onDblclick)},t.value]),onClick:e.onClick,onContextmenu:e.onContextmenu,onDblclick:e.onDblclick},[e.item&&h.value.map((f,x)=>{const u=e.item,S=`item.${f.key}`,p=`header.${f.key}`,w={index:e.index,item:u.raw,internalItem:u,value:se(u.columns,f.key),column:f,isSelected:r,toggleSelect:o,isExpanded:c,toggleExpand:m},T={column:f,selectAll:d,isSorted:v,toggleSort:g,sortBy:y.value,someSelected:i.value,allSelected:s.value,getSortIcon:()=>""},V=typeof e.cellProps=="function"?e.cellProps({index:w.index,item:w.item,internalItem:w.internalItem,value:w.value,column:f}):e.cellProps,R=typeof f.cellProps=="function"?f.cellProps({index:w.index,item:w.item,internalItem:w.internalItem,value:w.value}):f.cellProps,D=f.key==="data-table-select"||f.key==="data-table-expand",b=f.key==="data-table-group"&&f.width===0&&!f.title;return k(le,M({align:f.align,indent:f.indent,class:{"v-data-table__td--expanded-row":f.key==="data-table-expand","v-data-table__td--select-row":f.key==="data-table-select"},fixed:f.fixed,fixedOffset:f.fixedOffset,fixedEndOffset:f.fixedEndOffset,lastFixed:f.lastFixed,firstFixedEnd:f.firstFixedEnd,maxWidth:n.value?void 0:f.maxWidth,noPadding:D,empty:b,nowrap:f.nowrap,width:n.value?void 0:f.width},V,R),{default:()=>{var _,H,L,j;if(f.key==="data-table-select")return((_=a["item.data-table-select"])==null?void 0:_.call(a,{...w,props:{color:e.color,disabled:!u.selectable,modelValue:r([u]),onClick:oe(()=>o(u),["stop"])}}))??k(ue,{color:e.color,disabled:!u.selectable,density:e.density,modelValue:r([u]),onClick:oe(E=>o(u,e.index,E),["stop"])},null);if(f.key==="data-table-expand")return((H=a["item.data-table-expand"])==null?void 0:H.call(a,{...w,props:{icon:c(u)?e.collapseIcon:e.expandIcon,size:"small",variant:"text",onClick:oe(()=>m(u),["stop"])}}))??k(Ge,{icon:c(u)?e.collapseIcon:e.expandIcon,size:"small",variant:"text",onClick:oe(()=>m(u),["stop"])},null);if(a[S]&&!n.value)return a[S](w);const I=At(w.value);return n.value?P(J,null,[P("div",{class:"v-data-table__td-title"},[((L=a[p])==null?void 0:L.call(a,T))??f.title]),P("div",{class:"v-data-table__td-value"},[((j=a[S])==null?void 0:j.call(a,w))??I])]):I}})})]))}}),ct=C({color:String,loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function],...ye(dt(),["collapseIcon","expandIcon","density"]),...ye(it(),["groupCollapseIcon","groupExpandIcon","density"]),...ke()},"VDataTableRows"),Ne=G()({name:"VDataTableRows",inheritAttrs:!1,props:ct(),setup(e,l){let{attrs:a,slots:t}=l;const{columns:n}=fe(),{expandOnClick:r,toggleExpand:o,isExpanded:i}=We(),{isSelected:s,toggleSelect:d}=ce(),{toggleGroup:c,isGroupOpen:m}=Ue(),{t:g}=ie(),{mobile:y}=Pe(e);return X(()=>{var h,f;const v=ye(e,["groupCollapseIcon","groupExpandIcon","density"]);return e.loading&&(!e.items.length||t.loading)?P("tr",{class:"v-data-table-rows-loading",key:"loading"},[P("td",{colspan:n.value.length},[((h=t.loading)==null?void 0:h.call(t))??g(e.loadingText)])]):!e.loading&&!e.items.length&&!e.hideNoData?P("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[P("td",{colspan:n.value.length},[((f=t["no-data"])==null?void 0:f.call(t))??g(e.noDataText)])]):P(J,null,[e.items.map((x,u)=>{var w,T;if(x.type==="group"){const V={index:u,item:x,columns:n.value,isExpanded:i,toggleExpand:o,isSelected:s,toggleSelect:d,toggleGroup:c,isGroupOpen:m};return t["group-header"]?t["group-header"](V):k(Ia,M({key:`group-header_${x.id}`,item:x},_e(a,":groupHeader",()=>V),v),t)}if(x.type==="group-summary"){const V={index:u,item:x,columns:n.value,toggleGroup:c};return((w=t["group-summary"])==null?void 0:w.call(t,V))??""}const S={index:x.virtualIndex??u,item:x.raw,internalItem:x,columns:n.value,isExpanded:i,toggleExpand:o,isSelected:s,toggleSelect:d},p={...S,props:M({key:`item_${x.key??x.index}`,onClick:r.value?()=>{o(x)}:void 0,index:u,item:x,color:e.color,cellProps:e.cellProps,collapseIcon:e.collapseIcon,expandIcon:e.expandIcon,density:e.density,mobile:y.value},_e(a,":row",()=>S),typeof e.rowProps=="function"?e.rowProps({item:S.item,index:S.index,internalItem:S.internalItem}):e.rowProps)};return P(J,{key:p.props.key},[t.item?t.item(p):k(Da,p.props,t),i(x)&&((T=t["expanded-row"])==null?void 0:T.call(t,S))])})])}),{}}}),ft=C({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,striped:{type:String,default:null,validator:e=>["even","odd"].includes(e)},...$t(),...de(),...Ht(),...Rt()},"VTable"),Me=G()({name:"VTable",props:ft(),setup(e,l){let{slots:a,emit:t}=l;const{themeClasses:n}=Nt(e),{densityClasses:r}=Mt(e);return X(()=>k(e.tag,{class:ae(["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!a.top,"v-table--has-bottom":!!a.bottom,"v-table--hover":e.hover,"v-table--striped-even":e.striped==="even","v-table--striped-odd":e.striped==="odd"},n.value,r.value,e.class]),style:Le(e.style)},{default:()=>{var o,i,s;return[(o=a.top)==null?void 0:o.call(a),a.default?P("div",{class:"v-table__wrapper",style:{height:B(e.height)}},[P("table",null,[a.default()])]):(i=a.wrapper)==null?void 0:i.call(a),(s=a.bottom)==null?void 0:s.call(a)]}})),{}}}),Fa=C({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function Ta(e,l,a,t){const n=e.returnObject?l:te(l,e.itemValue),r=te(l,e.itemSelectable,!0),o=t.reduce((i,s)=>(s.key!=null&&(i[s.key]=te(l,s.value)),i),{});return{type:"item",key:e.returnObject?te(l,e.itemValue):n,index:a,value:n,selectable:r,columns:o,raw:l}}function Va(e,l,a){return l.map((t,n)=>Ta(e,t,n,a))}function Ca(e,l){return{items:F(()=>Va(e,e.items,l.value))}}const Oa=C({...ct(),hideDefaultBody:Boolean,hideDefaultFooter:Boolean,hideDefaultHeader:Boolean,width:[String,Number],search:String,...Jt(),...Zt(),...ya(),...Fa(),...da(),...fa(),...we(ut(),["multiSort","initialSortOrder"]),...ft()},"DataTable"),Ba=C({...la(),...Oa(),...zt(),...tt()},"VDataTable"),Ha=G()({name:"VDataTable",props:Ba(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,l){let{attrs:a,slots:t}=l;const{groupBy:n}=Xt(e),{initialSortOrder:r,sortBy:o,multiSort:i,mustSort:s}=ga(e),{page:d,itemsPerPage:c}=na(e),{disableSort:m}=Lt(e),{columns:g,headers:y,sortFunctions:v,sortRawFunctions:h,filterFunctions:f}=pa(e,{groupBy:n,showSelect:O(()=>e.showSelect),showExpand:O(()=>e.showExpand)}),{items:x}=Ca(e,g),u=O(()=>e.search),{filteredItems:S}=Qt(e,x,u,{transform:$=>$.columns,customKeyFilter:f}),{toggleSort:p}=va({initialSortOrder:r,sortBy:o,multiSort:i,mustSort:s,page:d}),{sortByWithGroups:w,opened:T,extractRows:V,isGroupOpen:R,toggleGroup:D}=qt({groupBy:n,sortBy:o,disableSort:m}),{sortedItems:b}=ha(e,S,w,{transform:$=>({...$.raw,...$.columns}),sortFunctions:v,sortRawFunctions:h}),{flatItems:I}=ta(b,n,T,()=>!!t["group-summary"]),_=F(()=>I.value.length),{startIndex:H,stopIndex:L,pageCount:j,setItemsPerPage:E}=ra({page:d,itemsPerPage:c,itemsLength:_}),{paginatedItems:K}=sa({items:I,startIndex:H,stopIndex:L,itemsPerPage:c}),W=F(()=>V(K.value)),{isSelected:ge,select:gt,selectAll:mt,toggleSelect:vt,someSelected:ht,allSelected:bt}=ca(e,{allItems:x,currentPage:W}),{isExpanded:yt,toggleExpand:xt}=Yt(e);aa({page:d,itemsPerPage:c,sortBy:o,groupBy:n,search:u}),Gt({VDataTableRows:{hideNoData:O(()=>e.hideNoData),noDataText:O(()=>e.noDataText),loading:O(()=>e.loading),loadingText:O(()=>e.loadingText)}});const A=F(()=>({page:d.value,itemsPerPage:c.value,sortBy:o.value,pageCount:j.value,toggleSort:p,setItemsPerPage:E,someSelected:ht.value,allSelected:bt.value,isSelected:ge,select:gt,selectAll:mt,toggleSelect:vt,isExpanded:yt,toggleExpand:xt,isGroupOpen:R,toggleGroup:D,items:W.value.map($=>$.raw),internalItems:W.value,groupedItems:K.value,columns:g.value,headers:y.value}));return X(()=>{const $=Ee.filterProps(e),St=Ae.filterProps(we(e,["multiSort"])),wt=Ne.filterProps(e),Pt=Me.filterProps(e);return k(Me,M({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},Pt,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>{var q;return(q=t.top)==null?void 0:q.call(t,A.value)},default:()=>{var q,Ie,De,Fe,Te,Ve;return t.default?t.default(A.value):P(J,null,[(q=t.colgroup)==null?void 0:q.call(t,A.value),!e.hideDefaultHeader&&P("thead",{key:"thead"},[k(Ae,M(St,{multiSort:!!e.multiSort}),t)]),(Ie=t.thead)==null?void 0:Ie.call(t,A.value),!e.hideDefaultBody&&P("tbody",null,[(De=t["body.prepend"])==null?void 0:De.call(t,A.value),t.body?t.body(A.value):k(Ne,M(a,wt,{items:K.value}),t),(Fe=t["body.append"])==null?void 0:Fe.call(t,A.value)]),(Te=t.tbody)==null?void 0:Te.call(t,A.value),(Ve=t.tfoot)==null?void 0:Ve.call(t,A.value)])},bottom:()=>t.bottom?t.bottom(A.value):!e.hideDefaultFooter&&P(J,null,[k(Kt,null,null),k(Ee,$,{prepend:t["footer.prepend"]})])})}),{}}});export{Ha as V};
