import{u as F,i as S,m as y,c as E,d as t,e as s,q as _,v as M,x as R,f as e,aw as f,V as U,t as B,F as C,z as N}from"./index-DGDPAFvN.js";import{c as T,d as n,u as $,e as m}from"./index.esm-BKlOWWEB.js";import{v as z}from"./index-CZgOSDs4.js";import I from"./GroupFooter-CNXRydtP.js";import{b}from"./route-block-B_A1xBdJ.js";import{V as P,a as v}from"./VRow-B0E1-WBI.js";import{V as A}from"./VForm-Ce9ka6A1.js";import{V as D}from"./VTextarea-D9qDfrvi.js";import{V as G}from"./VContainer-DRMGm2hx.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./VList-D0O-dBcK.js";import"./VDivider-C7U-UNkw.js";const j={class:"text-center"},H={__name:"contact",setup(J){const{t:o}=F(),{api:k}=N(),V=S(),h=T({nickname:n().required(o("contact.nicknameRequired")),email:n().required(o("api.userEmailRequired")).test("isEmail",o("api.userEmailInvalid"),l=>z.isEmail(l)),title:n().required(o("contact.titleRequired")),description:n().required(o("contact.descriptionRequired"))}),{handleSubmit:x,isSubmitting:g,resetForm:w}=$({validationSchema:h}),u=m("nickname"),d=m("email"),c=m("title"),p=m("description"),q=x(async l=>{var a,r;try{await k.post("/contactform/",{nickname:l.nickname,email:l.email,title:l.title,description:l.description}),w(),V({text:o("contact.success"),snackbarProps:{color:"green"}})}catch(i){console.log(i),V({text:o("api."+(((r=(a=i==null?void 0:i.response)==null?void 0:a.data)==null?void 0:r.message)||"unknownError")),snackbarProps:{color:"red"}})}});return(l,a)=>(y(),E(C,null,[t(G,{fluid:"",style:{"max-width":"1440px"}},{default:s(()=>[t(P,null,{default:s(()=>[t(v,{cols:"12"},{default:s(()=>[_("h1",j,M(l.$t("nav.contactUs")),1)]),_:1}),t(v,{cols:"6",offset:"3"},{default:s(()=>[t(A,{disabled:e(g),onSubmit:R(e(q),["prevent"])},{default:s(()=>[t(f,{modelValue:e(u).value.value,"onUpdate:modelValue":a[0]||(a[0]=r=>e(u).value.value=r),placeholder:e(o)("contact.nickname"),"error-messages":e(u).errorMessage.value,variant:"outlined"},null,8,["modelValue","placeholder","error-messages"]),t(f,{modelValue:e(d).value.value,"onUpdate:modelValue":a[1]||(a[1]=r=>e(d).value.value=r),placeholder:e(o)("contact.email"),"error-messages":e(d).errorMessage.value,variant:"outlined"},null,8,["modelValue","placeholder","error-messages"]),t(f,{modelValue:e(c).value.value,"onUpdate:modelValue":a[2]||(a[2]=r=>e(c).value.value=r),placeholder:e(o)("contact.title"),"error-messages":e(c).errorMessage.value,variant:"outlined"},null,8,["modelValue","placeholder","error-messages"]),t(D,{modelValue:e(p).value.value,"onUpdate:modelValue":a[3]||(a[3]=r=>e(p).value.value=r),placeholder:e(o)("contact.description"),variant:"outlined","no-resize":"","error-messages":e(p).errorMessage.value},null,8,["modelValue","placeholder","error-messages"]),t(v,{cols:"3",offset:"9"},{default:s(()=>[t(U,{class:"mb-15 text-white",type:"submit",loading:e(g),"append-icon":"mdi-arrow-right",width:"120",height:"40",color:"orange"},{default:s(()=>[...a[4]||(a[4]=[B("送出",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["disabled","onSubmit"])]),_:1})]),_:1})]),_:1}),t(I,{class:"mt-15"})],64))}};typeof b=="function"&&b(H);export{H as default};
