import{u as R,a as $,i as F,b as M,c as q,r as V,d as B,w as E,o as G,e as H,f as m,g as s,h as o,j as e,k as u,l as P,m as d,F as p,n,V as _,p as x,q as k,s as y,t as f,v,x as T,y as J,z as K}from"./index-Bq56h7iZ.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as Q,a as U,b as W,c as X}from"./VNavigationDrawer-7OCKGAms.js";import{V as z}from"./VContainer-Dp8PARB0.js";import{V as w,a as L}from"./VList-Bmhx1MvN.js";import{V as Y}from"./VDivider-Bb63vThF.js";const Z={class:"d-flex mr-6"},ee={class:"d-flex justify-space-between align-center"},te={__name:"admin",setup(ae){const{t:l}=R(),t=$(),N=F(),{mdAndUp:g}=M(),S=q(),i=V(!1),r=V(!1),I=V(new URL("/game-together/assets/logo-FHMshnbs.png",import.meta.url).href),b=B(()=>[{to:"/group",text:l("nav.groupList"),icon:"mdi-invoice-list-outline",show:t.isLoggedIn||!t.isLoggedIn},{to:"/creategroup/step1",text:l("nav.groupCreate"),icon:"mdi-flag-outline",show:t.isLoggedIn||!t.isLoggedIn},{to:"/member/organizer",text:l("nav.membersSection"),icon:"mdi-account-group",show:t.isLoggedIn},{to:"/admin/groups",text:l("nav.adminSection"),icon:"mdi-cog",show:t.isLoggedIn&&t.isAdmin},{to:"/contact",text:l("nav.contactUs"),icon:"mdi-chat",show:t.isLoggedIn||!t.isLoggedIn},{to:"/login",text:l("nav.login"),icon:"mdi-account-arrow-left",show:!t.isLoggedIn},{to:"/register",text:l("nav.register"),icon:"mdi-account-plus",show:!t.isLoggedIn}]),D=B(()=>[{to:"/admin/groups",text:l("nav.adminGroups")},{to:"/admin/users",text:l("nav.adminUsers")},{to:"/admin/contacts",text:l("nav.adminContacts")}]),C=async()=>{try{await apiAuth.delete("/user/logout")}catch(h){console.log(h)}t.logout(),N({text:l("logout.success"),snackbarProps:{color:"green"}}),i.value=!1,S.push("/")},A=()=>{console.log("mdAndUp:",g.value,"rail:",r.value,"dialog:",i.value),g.value?(i.value&&(i.value=!1),r.value&&(r.value=!1)):r.value||(r.value=!0)};return E(g,A),G(A),(h,c)=>{const j=H("router-view");return n(),m(p,null,[s(Q,null,{default:o(()=>[e(g)?(n(),u(z,{key:0,class:"d-flex justify-space-between align-center",fluid:"",style:{"max-width":"1440px"}},{default:o(()=>[s(_,{to:"/",active:!1,class:"ml-2",height:"60",ripple:!1},{default:o(()=>[s(x,{image:e(I),rounded:"0",size:"65"},null,8,["image"])]),_:1}),k("div",Z,[(n(!0),m(p,null,y(b.value,a=>(n(),m(p,{key:a.to},[a.show?(n(),u(_,{key:0,to:a.to,"prepend-icon":a.icon},{default:o(()=>[f(v(a.text),1)]),_:2},1032,["to","prepend-icon"])):d("",!0)],64))),128)),e(t).isLoggedIn?(n(),u(_,{key:0,"prepend-icon":"mdi-account-arrow-right",onClick:C},{default:o(()=>[f(v(h.$t("nav.logout")),1)]),_:1})):d("",!0),s(x,{border:"xs",image:e(t).avatar},null,8,["image"])])]),_:1})):d("",!0),e(g)?d("",!0):(n(),u(z,{key:1,class:"d-flex justify-space-between align-center",fluid:""},{default:o(()=>[s(_,{to:"/",active:!1,class:"ml-2",height:"60",ripple:!1},{default:o(()=>[s(x,{image:e(I),rounded:"0",size:"65"},null,8,["image"])]),_:1}),s(X,{onClick:c[0]||(c[0]=a=>i.value=!e(i))})]),_:1}))]),_:1}),e(g)?d("",!0):(n(),u(U,{key:0,modelValue:e(i),"onUpdate:modelValue":c[2]||(c[2]=a=>P(i)?i.value=a:null),temporary:"",location:"top"},{default:o(()=>[s(L,null,{default:o(()=>[(n(!0),m(p,null,y(b.value,a=>(n(),m(p,null,[a.show?(n(),u(w,{key:0,to:a.to,"prepend-icon":a.icon},{default:o(()=>[f(v(a.text),1)]),_:2},1032,["to","prepend-icon"])):d("",!0)],64))),256)),e(t).isLoggedIn?(n(),u(w,{key:0,"prepend-icon":"mdi-account-arrow-right",onClick:c[1]||(c[1]=()=>{C(),i.value=!1})},{default:o(()=>[f(v(h.$t("nav.logout")),1)]),_:1})):d("",!0)]),_:1})]),_:1},8,["modelValue"])),s(U,{permanent:"",rail:e(r),"rail-width":"10",drawer:"drawer",width:"260",class:"custom-drawer"},{default:o(()=>[e(r)?(n(),u(L,{key:0},{default:o(()=>[s(w,null,{default:o(()=>[s(x,{image:e(t).avatar,size:"40"},null,8,["image"])]),_:1})]),_:1})):d("",!0),e(r)?d("",!0):(n(),u(L,{key:1},{default:o(()=>[k("div",ee,[s(w,{"prepend-avatar":e(t).avatar,title:e(t).nickname},null,8,["prepend-avatar","title"])]),s(Y),(n(!0),m(p,null,y(D.value,a=>(n(),u(w,{key:a.to,to:a.to},{default:o(()=>[f(v(a.text),1)]),_:2},1032,["to"]))),128))]),_:1})),T(k("div",{class:"drawer-toggle",onClick:c[3]||(c[3]=a=>r.value=!e(r))},[s(K,{icon:e(r)?"mdi-chevron-right":"mdi-chevron-left",size:"small"},null,8,["icon"])],512),[[J,!e(g)]])]),_:1},8,["rail"]),s(W,null,{default:o(()=>[s(j)]),_:1})],64)}}},ue=O(te,[["__scopeId","data-v-1866f534"]]);export{ue as default};
